{% extends "base.html" %}

{% block body %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Info</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body>
</head>
<body>
    <h1>Info</h1>
    {% if user_info %}
        <p>Welcome, {{ user_info.username }}!</p>
    {% endif %}

    <form method="post">
        <div class="form-group">
            <label for="action">Дії із акаунтом</label>
            <select name="action" id="action" class="form-control">
                <option value="logout">Вийти із системи</option>
                <option value="change_password">Змінити пароль</option>
                <option value="add_cookie">Додати Cookie</option>
                <option value="delete_cookie">Видалити Cookie</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <div id="changePasswordForm" style="display: none;">
        <h2>Change Password</h2>
        <form method="post">
            <input type="hidden" name="action" value="change_password">
            <div class="form-group">
                <label for="new_password">New Password</label>
                <input type="password" name="new_password" id="new_password" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Change Password</button>
        </form>
    </div>

    <div id="addCookieForm" style="display: none;">
        <h2>Add Cookie</h2>
        <form method="post">
            <input type="hidden" name="action" value="add_cookie">
            <div class="form-group">
                <label for="cookie_key">Cookie Key</label>
                <input type="text" name "cookie_key" id="cookie_key" class="form-control">
            </div>
            <div class="form-group">
                <label for="cookie_value">Cookie Value</label>
                <input type="text" name="cookie_value" id="cookie_value" class="form-control">
            </div>
            <div class="form-group">
                <label for="cookie_expire_time">Cookie Expire Time (optional)</label>
                <input type="text" name="cookie_expire_time" id="cookie_expire_time" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Add Cookie</button>
        </form>
    </div>

    <div id="deleteCookieForm" style="display: none;">
        <h2>Delete Cookie</h2>
        <form method="post">
            <input type="hidden" name="action" value="delete_cookie">
            <div class="form-group">
                <label for="cookie_key_delete">Cookie Key to Delete</label>
                <input type="text" name="cookie_key_delete" id="cookie_key_delete" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Delete Cookie</button>
        </form>
    </div>

    <script>
        const actionSelect = document.getElementById('action');
        const changePasswordForm = document.getElementById('changePasswordForm');
        const addCookieForm = document.getElementById('addCookieForm');
        const deleteCookieForm = document.getElementById('deleteCookieForm');

        actionSelect.addEventListener('change', function() {
            const selectedAction = actionSelect.value;
            changePasswordForm.style.display = 'none';
            addCookieForm.style.display = 'none';
            deleteCookieForm.style.display = 'none';

            if (selectedAction === 'change_password') {
                changePasswordForm.style.display = 'block';
            } else if (selectedAction === 'add_cookie') {
                addCookieForm.style.display = 'block';
            } else if (selectedAction === 'delete_cookie') {
                deleteCookieForm.style.display = 'block';
            }
        });
    </script>
</body>
</html>

{% endblock %}
